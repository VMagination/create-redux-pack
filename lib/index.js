"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var toolkit=require("@reduxjs/toolkit"),reselect=require("reselect");function _arrayWithHoles(e){if(Array.isArray(e))return e}var arrayWithHoles=_arrayWithHoles;function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}return r}}var iterableToArrayLimit=_iterableToArrayLimit;function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var arrayLikeToArray=_arrayLikeToArray;function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?arrayLikeToArray(e,t):void 0}}var unsupportedIterableToArray=_unsupportedIterableToArray;function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nonIterableRest=_nonIterableRest;function _slicedToArray(e,t){return arrayWithHoles(e)||iterableToArrayLimit(e,t)||unsupportedIterableToArray(e,t)||nonIterableRest()}var slicedToArray=_slicedToArray;function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var _typeof_1=createCommonjsModule(function(t){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(e){return typeof e}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.exports=r});function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var defineProperty$1=_defineProperty$1;function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var defineProperty=_defineProperty;function ownKeys(t,e){var r,a=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)),a}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var root,objectSpread2=_objectSpread2;function symbolObservablePonyfill(e){var t,e=e.Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}symbolObservablePonyfill(root="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());var randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function warning(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function getUndefinedStateErrorMessage(e,t){t=t&&t.type;return"Given "+(t&&'action "'+String(t)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function getUnexpectedStateShapeWarningMessage(e,t,r,a){var n=Object.keys(t),o=r&&r.type===ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===n.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!isPlainObject(e))return"The "+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+n.join('", "')+'"';e=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!a[e]});return e.forEach(function(e){a[e]=!0}),(!r||r.type!==ActionTypes.REPLACE)&&0<e.length?"Unexpected "+(1<e.length?"keys":"key")+' "'+e.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+n.join('", "')+'". Unexpected keys will be ignored.':void 0}function assertReducerShape(r){Object.keys(r).forEach(function(e){var t=r[e];if(void 0===t(void 0,{type:ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function combineReducers(e){for(var t=Object.keys(e),l={},r=0;r<t.length;r++){var a=t[r];"production"!==process.env.NODE_ENV&&void 0===e[a]&&warning('No reducer provided for key "'+a+'"'),"function"==typeof e[a]&&(l[a]=e[a])}var s,f,p=Object.keys(l);"production"!==process.env.NODE_ENV&&(s={});try{assertReducerShape(l)}catch(e){f=e}return function(e,t){if(void 0===e&&(e={}),f)throw f;var r;"production"===process.env.NODE_ENV||(r=getUnexpectedStateShapeWarningMessage(e,l,t,s))&&warning(r);for(var a=!1,n={},o=0;o<p.length;o++){var c=p[o],i=l[c],u=e[c],d=i(u,t);if(void 0===d){i=getUndefinedStateErrorMessage(c,t);throw new Error(i)}n[c]=d,a=a||d!==u}return(a=a||p.length!==Object.keys(e).length)?n:e}}function isCrushed(){}function _arrayWithoutHoles(e){if(Array.isArray(e))return arrayLikeToArray(e)}"production"!==process.env.NODE_ENV&&"string"==typeof isCrushed.name&&"isCrushed"!==isCrushed.name&&warning('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');var arrayWithoutHoles=_arrayWithoutHoles;function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var iterableToArray=_iterableToArray;function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nonIterableSpread=_nonIterableSpread;function _toConsumableArray(e){return arrayWithoutHoles(e)||iterableToArray(e)||unsupportedIterableToArray(e)||nonIterableSpread()}var toConsumableArray=_toConsumableArray,mergeGenerators=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];try{var r=toConsumableArray(new Set(o.reduce(function(e,t){return[].concat(toConsumableArray(e),toConsumableArray(Object.keys(t)))},[]))),a=function(){return{}};r.includes("reducer")&&(a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var c=o.filter(function(e){return e.hasOwnProperty("reducer")}).map(function(e){return e.reducer.apply(e,t)}).filter(function(e){var t;return e&&"object"===_typeof_1(e)&&"Object"===(null==e||null===(t=e.constructor)||void 0===t?void 0:t.name)});return toConsumableArray(new Set(c.reduce(function(e,t){return[].concat(toConsumableArray(e),toConsumableArray(Object.keys(t)))},[]))).reduce(function(e,o){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},o,function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return c.filter(function(e){return e.hasOwnProperty(o)}).reduce(function(e,t){var r=t[o](a,n,!0),t=Object.keys(r);return t.length>=Object.keys(a).length&&(console.warn("CRPack: mergeGenerators received a reducer case with state directly added in result, to improve performance please use createReducerCase and prevent previous state from spreading into result, found in",o),r=t.reduce(function(e,t){return objectSpread2(objectSpread2({},e),a[t]&&r[t]===a[t]?{}:defineProperty$1({},t,r[t]))},{})),objectSpread2(objectSpread2({},e),r)},e?{}:objectSpread2({},a))}))},{})});var n=r.reduce(function(e,n){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},n,function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return o.filter(function(e){return e.hasOwnProperty(n)}).reduce(function(e,t){var r=t[n].apply(t,a);return r&&"object"===_typeof_1(r)?objectSpread2(objectSpread2({},e),t[n].apply(t,a)):t[n].apply(t,a)},{})}))},{});return objectSpread2(objectSpread2({},n),{},{reducer:a})}catch(e){throw new Error("CRPack: mergeGenerators received invalid generators")}},createReducerCase=function(a){return function(e,t,r){return objectSpread2(objectSpread2({},r?{}:e),a(e,t,r))}},createAction=function(n,o){return Object.assign(toolkit.createAction(n,function(e){return{payload:o?o.apply(void 0,[e]):e}}),{instances:new Proxy({},{get:function(e,t,r){var a=Reflect.get(e,t,r);return a||("string"!=typeof t?a:(Reflect.set(e,t,toolkit.createAction(n,function(e){return{payload:o?o.apply(void 0,[e]):e,meta:{instance:t}}}),r),Reflect.get(e,t,r)))}})})},createSelector=function(t,r){return reselect.createSelector("string"==typeof t?function(e){return e[t]}:t,"string"==typeof r?function(e){return e[r]}:r)},mergeObjects=function(e,t){e=objectSpread2({},e);return function t(r,a){return Object.keys(null!=a?a:{}).forEach(function(e){a[e]instanceof Object&&e in r&&Object.assign(a[e],t(r[e],a[e]))}),Object.assign(null!=r?r:{},a),r}(e,t),e};function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var r,a={},n=Object.keys(e),o=0;o<n.length;o++)r=n[o],0<=t.indexOf(r)||(a[r]=e[r]);return a}var objectWithoutPropertiesLoose=_objectWithoutPropertiesLoose;function _objectWithoutProperties(e,t){if(null==e)return{};var r,a=objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),o=0;o<n.length;o++)r=n[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r]);return a}var objectWithoutProperties=_objectWithoutProperties,formatComplete=Symbol("format complete"),generateId=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:9;return a<=10?Math.random().toString(36).substr(2,a):Array(Math.ceil(a/10)).fill(null).reduce(function(e,t,r){r=10<=a-10*r?10:a%10;return e+Math.random().toString(36).substr(2,r).padEnd(r,"0")},"")},formatParams=function(e,t){try{var r=e.name,a=void 0===r?"NamelessPack":r,n=e.reducerName,o=void 0===n?"UnspecifiedReducer":n,c=e.template,i=void 0===c?"request":c,u=e.idGeneration,d=void 0===u?t:u,l=objectWithoutProperties(e,["name","reducerName","template","idGeneration"]);if(formatComplete in l)return e;var s="[".concat(a,"]: CRPack-").concat(d?generateId():"static");return objectSpread2(defineProperty$1({name:s,reducerName:o,originalName:a,template:i},formatComplete,!0),l)}catch(e){throw Error("CRPack received invalid package info")}},RESET_ACTION_TYPE="__CREATE_REDUX_PACK_RESET_ACTION__",resetAction=Object.assign(toolkit.createAction(RESET_ACTION_TYPE),{type:RESET_ACTION_TYPE}),hasCRPackName=function(e){return/\[.+]: CRPack-(.{9}|static)/.test(e)},makeKeysReadable=function(e){return e&&"object"===_typeof_1(e)?function r(e){var t=Object.keys(e||{}).filter(hasCRPackName);if(!t.length)return e;var a=objectSpread2({},e);return t.forEach(function(e){var t=e.match(/\.([^. ]+) /)||[],t=slicedToArray(t,2)[1];t&&(a[t]=r(a[e]),delete a[e])}),a}(objectSpread2({},e)):e},getReadableKey=function(e){return hasCRPackName(e)?e.replace(/ of .+$/,""):e},getRunName=function(e){return"run ".concat(e)},getSuccessName=function(e){return"success ".concat(e)},getSetName=function(e){return"set ".concat(e)},getResetName=function(e){return"reset ".concat(e)},getFailName=function(e){return"fail ".concat(e)},getLoadingName=function(e){return"isLoading ".concat(e)},getResultName=function(e){return"result ".concat(e)},getValueName=function(e){return"value ".concat(e)},getErrorName=function(e){return"error ".concat(e)},DefaultStateNames={result:getResultName,value:getValueName,isLoading:getLoadingName,error:getErrorName},getKeyName=function(e,t){var r;return(null===(r=DefaultStateNames[t])||void 0===r?void 0:r.call(DefaultStateNames,e))||(hasCRPackName(t)?t:"".concat(t," of ").concat(e))},getActionName=function(e,t){return"".concat(t," ").concat(e)},getNameWithInstance=function(e,t){return t?"".concat(e," [Instance]: ").concat(t):e},normalizeValue=function(e){return e?"object"===_typeof_1(e)&&Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e):""},mergableRemoveSymbol=Symbol("[CRPack-mergable-".concat(generateId(5),"]: remove field")).toString(),mergePayloadByKey=function(e,t,r){if(r&&t&&"object"===_typeof_1(t)&&e&&"object"===_typeof_1(e)){if(Array.isArray(e)){if(Array.isArray(t)){var a=t.map(function(e){return e[r]});return[].concat(toConsumableArray(e.filter(function(e){e=e[r];return!normalizeValue(a).includes(normalizeValue(e))})),toConsumableArray(t))}return[].concat(toConsumableArray(e.filter(function(e){e=e[r];return normalizeValue(t[r])!==normalizeValue(e)})),[t])}if(Array.isArray(t))return objectSpread2(objectSpread2({},e),t.reduce(function(e,t){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t[r],t))},{}));if(t[r])return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t[r],t));if(Object.values(t).every(function(e){return null==e?void 0:e[r]})){var n=Object.values(t);return objectSpread2(objectSpread2({},e),n.reduce(function(e,t){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t[r],t))},{}))}return Object.entries(objectSpread2(objectSpread2({},e),t)).reduce(function(e,t){var r=slicedToArray(t,2),t=r[0],r=r[1];return r!==mergableRemoveSymbol?objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,r)):e},{})}return r&&!t?e:t},selectorWithInstances=function(n,o,c){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(e){return e};return Object.assign(reselect.createSelector(n,function(e){return t((e||{})[o])}),{instances:new Proxy({},{get:function(e,t,r){var a=Reflect.get(e,t,r);return a||("string"!=typeof t?a:(Reflect.set(e,t,reselect.createSelector(n,function(e){return null!==(e=e[getNameWithInstance(o,t)])&&void 0!==e?e:c}),r),Reflect.get(e,t,r)))}})})},shouldRecursionEnd=function(e){return"initial"in e},empty=Symbol("CRPack value: empty"),isTreeEmpty=function t(r){var e=Object.keys(r);return Boolean(e.length)&&e.every(function(e){return r[e]&&"object"===_typeof_1(r[e])?t(r[e]):r[e]===empty})},setEmptyTrees=function t(r){return r&&"object"===_typeof_1(r)&&Object.keys(r).forEach(function(e){if(r[e]&&"object"===_typeof_1(r[e]))return isTreeEmpty(r[e])?r[e]=empty:t(r[e])}),r},removeEmpties=function t(r){return(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&setEmptyTrees(r),Object.keys(r).forEach(function(e){return r[e]===empty?delete r[e]:r[e]&&"object"===_typeof_1(r[e])&&t(r[e])}),r},addStateParam=function(e){var t,r,a,n=e.obj,o=e.key,c=e.payloadMap,i=e.name,u=e.reducerName,d=e.payload,l=e.payloadField,s=e.state,f=e.mainState,p=e.instance,y=e.action,m=e.isMainAction,e=e.prefix,b=void 0===e?"":e,g=c[o],c=null==g?void 0:g.instanced,c=Array.isArray(c)?c.includes(y):null==g?void 0:g.instanced,v=getNameWithInstance(getKeyName(i,"".concat(b).concat(o)),c?p:void 0);null!=g&&null!==(t=g.actionToValue)&&void 0!==t&&t[y]||m&&(null==g||!g.actions)||null!=g&&null!==(r=g.actions)&&void 0!==r&&r.includes(y)?(l=null!==(l=(r=(null==g?void 0:g.formatPayload)||(null==g?void 0:g.formatMergePayload))?r(d,y,mergableRemoveSymbol):l)&&void 0!==l?l:null==g?void 0:g.fallback,l=(a=("actionToValue"in g&&"function"==typeof(null==g?void 0:g.actionToValue)?null==g?void 0:g.actionToValue:null==g||null===(a=g.actionToValue)||void 0===a?void 0:a[y])||(null==g?void 0:g.modifyValue))?a(null!=g&&g.actionToValue?null!=d?d:null==g?void 0:g.fallback:l,null!==(d=s[v])&&void 0!==d?d:null==g?void 0:g.initial,{code:y,instance:p,forceInstance:function(e){v=getNameWithInstance(getKeyName(i,"".concat(b).concat(o)),e)},updateInstances:function(e){e&&Object.entries(e).forEach(function(e){var t=slicedToArray(e,2),e=t[0],t=t[1],e=getNameWithInstance(getKeyName(i,"".concat(b).concat(o)),e);n[e]="function"==typeof t?t(null!==(e=s[e])&&void 0!==e?e:null==g?void 0:g.initial):t})},getInstancedValue:function(e){return null!==(e=s[getNameWithInstance(getKeyName(i,"".concat(b).concat(o)),e)])&&void 0!==e?e:null==g?void 0:g.initial},getStateWithSelector:function(e){return e(defineProperty$1({},u,f))}}):mergePayloadByKey(null!==(p=s[v])&&void 0!==p?p:null==g?void 0:g.initial,l,null==g?void 0:g.mergeByKey),n[v]=l):DefaultStateNames["".concat(b).concat(o)]||(n[v]=empty)},addMappedPayloadToState=function n(e){var o=e.reducerName,c=e.obj,i=e.payloadMap,u=e.name,d=e.payload,l=e.payloadField,s=e.state,f=e.mainState,p=e.action,y=e.instance,t=e.isMainAction,m=void 0!==t&&t,t=e.prefix,b=void 0===t?"":t,e=e.isTop,g=void 0===e||e;Object.keys(i).forEach(function(e){var t=i[e];if(shouldRecursionEnd(t))return addStateParam({reducerName:o,obj:c,key:e,payloadMap:i,name:u,payload:d,payloadField:null==l?void 0:l[e],state:s,mainState:f,action:p,instance:y,isMainAction:m,prefix:b}),void(g&&(setEmptyTrees(c),removeEmpties(c)));var r=getKeyName(u,"".concat(b).concat(e));c[r]=objectSpread2(objectSpread2({},s[r]),c[r]||{});var a="".concat(b).concat(getReadableKey(e),".");n({reducerName:o,obj:c[r],payloadMap:t,name:u,payload:d,payloadField:null==l?void 0:l[e],state:s[r],mainState:f,action:p,instance:y,isMainAction:m,prefix:a,isTop:!1}),g&&(setEmptyTrees(c),removeEmpties(c))})},getInitial=function(e,t,r,a){var n={};return addMappedInitialToState(n,e,t,r,a),n},addMappedInitialToState=function n(o,c,i,u,d){var l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"";Object.keys(c).forEach(function(e){var t,r=c[e],a=getKeyName(i,"".concat(l).concat(e));shouldRecursionEnd(r)?(t=null==r?void 0:r.instanced,t=Array.isArray(t)?t.includes(d):null==r?void 0:r.instanced,o[getNameWithInstance(a,t?u:void 0)]=r.initial):(e="".concat(l).concat(getReadableKey(e),"."),o[a]=o[a]||{},n(o[a],r,i,u,d,e))})},getStateNames=function(e,t){var r={};return addMappedStateNames(r,e,t),r},wrapStateName=function r(a){return new Proxy(new String(a),{get:function(e,t){return"function"==typeof e[t]?e[t].bind(a):"string"==typeof t?t in e&&e[t]||r(t):e[t]}})},addMappedStateNames=function n(o,c,i){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";Object.keys(c).forEach(function(e){var t,r,a=c[e];shouldRecursionEnd(a)?o[e]=wrapStateName(getKeyName(i,"".concat(u).concat(e))):(t={},r="".concat(u).concat(getReadableKey(e),"."),n(t,a,i,r),o[e]=Object.assign(getKeyName(i,"".concat(u).concat(e)),t))})},getSelectors=function(e,t,r){var a={};return addMappedSelectors(a,e,t,r),a},selectorContent=Symbol("CRPack selector content"),wrapSelector=function a(n,o){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e){return e},e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;return new Proxy(4<arguments.length&&void 0!==arguments[4]&&arguments[4]?selectorWithInstances(n,o,e,t):reselect.createSelector(n,function(e){return t((e||{})[o])}),{get:function(e,t,r){return Reflect.get(e,t,r)?Reflect.get(e,t,r):(e[selectorContent]?e[selectorContent][t]||(e[selectorContent][t]=a(reselect.createSelector(n,function(e){return(e||{})[o]}),t)):e[selectorContent]=defineProperty$1({},t,a(reselect.createSelector(n,function(e){return(e||{})[o]}),t)),e[selectorContent][t])}})},addMappedSelectors=function c(i,u,d,l){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"";Object.keys(u).forEach(function(e){var t,r,a,n=u[e],o=getKeyName(d,"".concat(s).concat(e));shouldRecursionEnd(n)?(a=(null==n?void 0:n.formatSelector)||function(e){return e},i[e]=wrapSelector(l,o,a,null==n?void 0:n.initial,!0)):(t={},r=reselect.createSelector(l,function(e){var t,r=(t=null,function(e){return t=t||makeKeysReadable(e)});return e[o]&&"object"===_typeof_1(e[o])?new Proxy(objectSpread2({},e[o]),{get:function(e,t){return(t in e?e:r(e))[t]},has:function(e,t){return t in e||t in r(e)},ownKeys:function(e){return Reflect.ownKeys(r(e))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(r(e),t)}}):e[o]}),a="".concat(s).concat(getReadableKey(e),"."),c(t,n,d,r,a),i[e]=Object.assign(r,t))})},cached=Symbol("[CRPack]: cached"),getLazyPack=function(o,c){for(var e=arguments.length,i=new Array(2<e?e-2:0),t=2;t<e;t++)i[t-2]=arguments[t];return new Proxy(objectSpread2(objectSpread2({},o),{},defineProperty$1({},cached,{})),{get:function(e,t,r){var a=t,n=c.originalName.replace(/^\S/,function(e){return e.toLowerCase()});!o.hasOwnProperty(t)&&"string"==typeof t&&t.startsWith(n)&&t!==n&&(a=t.replace(n,"").replace(/^\S/,function(e){return e.toLowerCase()}));n=Reflect.get(e,a,r),r=Reflect.get(e,cached,r);if("name"===a)return c.name;if(o.hasOwnProperty(a)){if(a in r)return r[a];r=n.apply(void 0,[c].concat(i));return Reflect.set(e[cached],a,r),r}return n}})},requestDefaultActions=["run","success","fail"],requestGen={actions:function(e){var r=e.name,e=e.actions;return objectSpread2({run:createAction(getRunName(r)),success:createAction(getSuccessName(r)),fail:createAction(getFailName(r))},(e||[]).filter(function(e){return!requestDefaultActions.includes(e)}).reduce(function(e,t){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,createAction(getActionName(r,t))))},{}))},actionNames:function(e){var r=e.name,e=e.actions;return objectSpread2({run:getRunName(r),success:getSuccessName(r),fail:getFailName(r)},(e||[]).filter(function(e){return!requestDefaultActions.includes(e)}).reduce(function(e,t){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,getActionName(r,t)))},{}))},selectors:function(e){var t=e.name,r=e.reducerName,a=e.payloadMap,n=void 0===a?{}:a,a=e.defaultInitial,e=function(e){return e[r]};return objectSpread2({isLoading:selectorWithInstances(e,DefaultStateNames.isLoading(t),!1),result:selectorWithInstances(e,DefaultStateNames.result(t),a)},getSelectors(n,t,e))},initialState:function(e){var t=e.name,r=e.defaultInitial,a=void 0===r?null:r,r=e.payloadMap,e=void 0===r?{}:r;return objectSpread2((defineProperty$1(r={},DefaultStateNames.isLoading(t),!1),defineProperty$1(r,DefaultStateNames.result(t),a),r),getInitial(e,t))},stateNames:function(e){var t=e.name,e=e.payloadMap,e=void 0===e?{}:e;return objectSpread2({isLoading:DefaultStateNames.isLoading(t),result:DefaultStateNames.result(t)},getStateNames(e,t))},reducer:function(e){var i=e.name,u=e.reducerName,d=e.formatPayload,l=e.formatMergePayload,s=e.mergeByKey,f=e.modifyValue,p=e.actionToValue,y=e.defaultFallback,m=e.defaultInitial,b=e.defaultInstanced,t=e.actions,e=e.payloadMap,g=void 0===e?{}:e;return objectSpread2(objectSpread2({},(t||[]).filter(function(e){return!requestDefaultActions.includes(e)}).reduce(function(e,n){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},getActionName(i,n),createReducerCase(function(e,t){var r=t.payload,a=t.meta,t={};return addMappedPayloadToState({obj:t,payloadMap:g,name:i,payload:r,payloadField:r,state:e,mainState:e,reducerName:u,action:n,instance:null==a?void 0:a.instance}),t})))},{})),{},(defineProperty$1(t={},getRunName(i),createReducerCase(function(e,t){var r=t.payload,a=t.meta,t=defineProperty$1({},getNameWithInstance(DefaultStateNames.isLoading(i),null==a?void 0:a.instance),!0);return addMappedPayloadToState({obj:t,payloadMap:g,name:i,payload:r,payloadField:r,state:e,mainState:e,reducerName:u,action:"run",instance:null==a?void 0:a.instance}),t})),defineProperty$1(t,getSuccessName(i),createReducerCase(function(e,t){var r=t.payload,a=t.meta,n=d||l,o=null!==(c=n?n(r,mergableRemoveSymbol):r)&&void 0!==c?c:y,t=getNameWithInstance(DefaultStateNames.result(i),!b||null==a?void 0:a.instance),n=p||f,c=(defineProperty$1(c={},getNameWithInstance(DefaultStateNames.isLoading(i),null==a?void 0:a.instance),!1),defineProperty$1(c,t,n?n(o,null!==(n=e[t])&&void 0!==n?n:m):mergePayloadByKey(null!==(t=e[t])&&void 0!==t?t:m,o,s)),c);return addMappedPayloadToState({obj:c,payloadMap:g,name:i,payload:r,payloadField:r,state:e,mainState:e,reducerName:u,action:"success",isMainAction:!0,instance:null==a?void 0:a.instance}),c})),defineProperty$1(t,getFailName(i),createReducerCase(function(e,t){var r=t.payload,a=t.meta,t=defineProperty$1({},getNameWithInstance(DefaultStateNames.isLoading(i),null==a?void 0:a.instance),!1);return addMappedPayloadToState({obj:t,payloadMap:g,name:i,payload:r,payloadField:r,state:e,mainState:e,reducerName:u,instance:null==a?void 0:a.instance,action:"fail"}),t})),t))}},simpleDefaultActions=["set","reset"],simpleGen={actions:function(e){var r=e.name,e=e.actions;return objectSpread2({set:createAction(getSetName(r)),reset:createAction(getResetName(r))},(e||[]).filter(function(e){return!simpleDefaultActions.includes(e)}).reduce(function(e,t){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,createAction(getActionName(r,t))))},{}))},actionNames:function(e){var r=e.name,e=e.actions;return objectSpread2({set:getSetName(r),reset:getResetName(r)},(e||[]).filter(function(e){return!simpleDefaultActions.includes(e)}).reduce(function(e,t){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,getActionName(r,t)))},{}))},selectors:function(e){var t=e.name,r=e.reducerName,a=e.payloadMap,n=void 0===a?{}:a,a=e.defaultInitial,e=function(e){return e[r]};return objectSpread2({value:selectorWithInstances(e,DefaultStateNames.value(t),a)},getSelectors(n,t,e))},initialState:function(e){var t=e.name,r=e.defaultInitial,r=void 0===r?null:r,e=e.payloadMap,e=void 0===e?{}:e;return objectSpread2(defineProperty$1({},DefaultStateNames.value(t),r),getInitial(e,t))},stateNames:function(e){var t=e.name,e=e.payloadMap,e=void 0===e?{}:e;return objectSpread2({value:DefaultStateNames.value(t)},getStateNames(e,t))},reducer:function(e){var c=e.name,i=e.mergeByKey,t=e.defaultInitial,u=void 0===t?null:t,t=e.defaultFallback,d=void 0===t?null:t,l=e.defaultInstanced,s=e.formatPayload,f=e.formatMergePayload,t=e.actions,p=e.reducerName,y=e.modifyValue,m=e.actionToValue,e=e.payloadMap,b=void 0===e?{}:e;return objectSpread2(objectSpread2({},(t||[]).filter(function(e){return!simpleDefaultActions.includes(e)}).reduce(function(e,n){return objectSpread2(objectSpread2({},e),{},defineProperty$1({},getActionName(c,n),createReducerCase(function(e,t){var r=t.payload,a=t.meta,t={};return addMappedPayloadToState({obj:t,payloadMap:b,name:c,payload:r,payloadField:r,state:e,instance:null==a?void 0:a.instance,mainState:e,reducerName:p,action:n}),t})))},{})),{},(defineProperty$1(t={},getSetName(c),createReducerCase(function(e,t){var r=t.payload,a=t.meta,n=s||f,t=null!==(o=n?n(r,mergableRemoveSymbol):r)&&void 0!==o?o:d,n=getNameWithInstance(DefaultStateNames.value(c),!l||null==a?void 0:a.instance),o=m||y,t=defineProperty$1({},n,o?o(r,null!==(o=e[n])&&void 0!==o?o:u):mergePayloadByKey(null!==(n=e[n])&&void 0!==n?n:u,t,i));return addMappedPayloadToState({obj:t,payloadMap:b,name:c,payload:r,payloadField:r,state:e,mainState:e,reducerName:p,instance:null==a?void 0:a.instance,action:"set",isMainAction:!0}),t})),defineProperty$1(t,getResetName(c),createReducerCase(function(e,t){var r=t.payload,a=t.meta,n=getNameWithInstance(DefaultStateNames.value(c),!l||null==a?void 0:a.instance),t=objectSpread2(defineProperty$1({},n,u),getInitial(b,c,null==a?void 0:a.instance,"reset")),n={};return addMappedPayloadToState({obj:n,payloadMap:b,name:c,payload:r,payloadField:r,state:e,mainState:e,reducerName:p,instance:null==a?void 0:a.instance,action:"reset"}),mergeObjects(t,n)})),t))}},requestErrorGen={stateNames:function(e){e=e.name;return{error:getErrorName(e)}},initialState:function(e){e=e.name;return defineProperty$1({},getErrorName(e),null)},selectors:function(e){var t=e.name,e=e.reducerName;return{error:createSelector(e,getErrorName(t))}},actions:function(e){e=e.name;return{fail:createAction(getFailName(e),function(e){var t;return null!==(t=null==e?void 0:e.error)&&void 0!==t?t:e})}},reducer:function(e){var a=e.name,e={};return defineProperty$1(e,getRunName(a),createReducerCase(function(e,t){t=t.meta;return defineProperty$1({},getNameWithInstance(getErrorName(a),null==t?void 0:t.instance),null)})),defineProperty$1(e,getSuccessName(a),createReducerCase(function(e,t){t=t.meta;return defineProperty$1({},getNameWithInstance(getErrorName(a),null==t?void 0:t.instance),null)})),defineProperty$1(e,getFailName(a),createReducerCase(function(e,t){var r=t.payload,t=t.meta;return defineProperty$1({},getNameWithInstance(getErrorName(a),null==t?void 0:t.instance),r)})),e}},resetState=function e(r,a,n){var o=Object.keys(a);Object.keys(r).forEach(function(t){o.filter(function(e){return e.startsWith(t)&&/ \[Instance]: .+$/.test(e)}).forEach(function(e){n[e]=r[t]}),r[t]&&a[t]&&"object"===_typeof_1(r[t])&&"object"===_typeof_1(a[t])&&e(r[t],a[t],n[t])})},resetActionGen={actions:function(e){e=e.name;return{reset:createAction(getResetName(e))}},reducer:function(e,r){e=e.name;return defineProperty$1({},getResetName(e),createReducerCase(function(e){var t=objectSpread2({},null==r?void 0:r.initialState);return resetState((null==r?void 0:r.initialState)||{},e,t),t}))}},loggerMatcher=function(){return!0},globalReducerSkip=Symbol("[CRPack]: global reducer skip"),createReduxPack=Object.assign(function(e){var t=formatParams(e,createReduxPack._idGeneration),r=t.reducerName,a=t.template,e=createReduxPack._generators[void 0===a?"request":a]||createReduxPack._generators.request,n=getLazyPack(e,t),a=n.reducer,e=n.initialState;return createReduxPack.injectReducerInto(r,a,e),Object.assign(n,{withGenerator:function(e){return createReduxPack.withGenerator(t,e,n)}})},{_reducers:{},_initialState:{},isLoggerOn:!1,getRootReducer:function(r,a){var n=Object.keys(r||{}).reduce(function(e,t){return objectSpread2(objectSpread2({},e),e[t]?defineProperty$1({},t,objectSpread2(objectSpread2({},e[t]),(r||{})[t])):defineProperty$1({},t,(r||{})[t]))},createReduxPack._reducers);createReduxPack._reducers=n;var e=Object.keys(n).reduce(function(e,t){var r=a&&a[t]?objectSpread2(objectSpread2({},createReduxPack._initialState[t]),a[t]):createReduxPack._initialState[t];return createReduxPack._initialState[t]=r,objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,"object"===_typeof_1(n[t])?toolkit.createReducer(r,n[t]):n[t]))},createReduxPack.isLoggerOn?{__Create_Redux_Pack_Logger__:toolkit.createReducer({},{},[{matcher:loggerMatcher,reducer:function(e,t){return console.log("[CRPack_Logger]: %c".concat(t.type),"font-weight: bold",{payload:t.payload}),objectSpread2({},e)}}])}:{}),o=Object.keys(e).length?combineReducers(e):function(e){return e};return function(e,t){if(t.type in createReduxPack._globalReducers){var r=createReduxPack._globalReducers[t.type](e,t,globalReducerSkip);if(r!==globalReducerSkip)return r}return t.type===resetAction.type?createReduxPack._initialState:o(e,t)}},_globalReducers:{},addGlobalReducers:function(e){var t=createReduxPack._globalReducers;createReduxPack._globalReducers=objectSpread2(objectSpread2({},t),e)},withGenerator:function(t,e,r,a){var n=t.reducerName,o=t.template,o=a||createReduxPack._generators[void 0===o?"request":o]||createReduxPack._generators.request,c=mergeGenerators(o,e),i=getLazyPack(c,t,r);return createReduxPack.injectReducerInto(n,i.reducer,i.initialState),Object.assign(i,{withGenerator:function(e){return createReduxPack.withGenerator(t,e,i,c)}})},updateReducer:function(){createReduxPack._store&&!createReduxPack.preventReducerUpdates&&createReduxPack._store.replaceReducer(createReduxPack.getRootReducer())},_idGeneration:!0,setDefaultIdGeneration:function(e){createReduxPack._idGeneration=e},injectReducerInto:function(e,t,r){createReduxPack._reducers=objectSpread2(objectSpread2({},createReduxPack._reducers),createReduxPack._reducers[e]?defineProperty$1({},e,objectSpread2(objectSpread2({},createReduxPack._reducers[e]),t)):defineProperty$1({},e,t)),createReduxPack._initialState=objectSpread2(objectSpread2({},createReduxPack._initialState),createReduxPack._initialState[e]?defineProperty$1({},e,objectSpread2({},mergeObjects(createReduxPack._initialState[e],r))):defineProperty$1({},e,r)),createReduxPack.updateReducer()},preventReducerUpdates:!1,freezeReducerUpdates:function(){createReduxPack.preventReducerUpdates=!0},releaseReducerUpdates:function(){createReduxPack.preventReducerUpdates=!1,createReduxPack.updateReducer()},_store:null,_generators:{request:requestGen,simple:simpleGen},simpleDefaultActions:simpleDefaultActions,requestDefaultActions:requestDefaultActions,getRunName:getRunName,getSuccessName:getSuccessName,getSetName:getSetName,getResetName:getResetName,getFailName:getFailName,getActionName:getActionName,getLoadingName:getLoadingName,getResultName:getResultName,getValueName:getValueName,getErrorName:getErrorName,getKeyName:getKeyName,getNameWithInstance:getNameWithInstance}),enableLogger=function(){createReduxPack.isLoggerOn||(createReduxPack.isLoggerOn=!0,createReduxPack.updateReducer())},disableLogger=function(){createReduxPack.isLoggerOn&&(createReduxPack.isLoggerOn=!1,createReduxPack.updateReducer())},configureStore=function(e){e=toolkit.configureStore(objectSpread2(objectSpread2({},e||{}),{},{reducer:createReduxPack.getRootReducer()}));return createReduxPack._store=e},connectStore=function(e,t,r){if(createReduxPack._store=e,!t)return createReduxPack.updateReducer(),console.warn("CRPack applyStore didn't receive a reducer, if there are none use CRPack's configureStore utility instead");"object"===_typeof_1(t)&&(t=Object.entries(t),createReduxPack._reducers=mergeObjects(createReduxPack._reducers,t.reduce(function(e,t){var r=slicedToArray(t,2),t=r[0],r=r[1];return"function"==typeof r?objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,r)):e},{})),createReduxPack._initialState=mergeObjects(createReduxPack._initialState,r||t.reduce(function(e,t){var r=slicedToArray(t,2),t=r[0],r=r[1];return"function"==typeof r?objectSpread2(objectSpread2({},e),{},defineProperty$1({},t,r(void 0,{type:"[CRPack]: init ".concat(generateId(6))}))):e},{})||{}),createReduxPack.updateReducer())},createReducerOn=function(e,t,r){createReduxPack.injectReducerInto(e||"UnspecifiedReducer",r||{},t||{})};exports.configureStore=configureStore,exports.connectStore=connectStore,exports.createAction=createAction,exports.createReducerCase=createReducerCase,exports.createReducerOn=createReducerOn,exports.createSelector=createSelector,exports.default=createReduxPack,exports.disableLogger=disableLogger,exports.enableLogger=enableLogger,exports.makeKeysReadable=makeKeysReadable,exports.mergableRemoveSymbol=mergableRemoveSymbol,exports.mergeGenerators=mergeGenerators,exports.requestErrorGen=requestErrorGen,exports.resetAction=resetAction,exports.resetActionGen=resetActionGen;
